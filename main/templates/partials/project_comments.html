
<div class="comments-panel">
  <header class="comments-panel__header">
    <h2>Comments for {{ project.title }}</h2>
  </header>

  {# COMMENT FORM #}
  {% if form %}
    <form method="post"
          action="{% url 'comment_create' id=project.id %}"
          class="comments-form">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <label for="{{ form.content.id_for_label }}" class="comments-form__label">
        Give me suggestions or leave feedback!
      </label>

      <div class="comments-form__field">
        {{ form.content.errors }}
        {{ form.content }}
      </div>

      <div class="comments-form__actions">
        <button type="submit" class="comments-btn-primary">
          Post comment
        </button>
      </div>
    </form>
  {% else %}
    <p class="comments-signin-note">
      You need to be signed in to leave a comment.
    </p>
  {% endif %}

  {# SCROLLABLE COMMENTS LIST #}
  <div class="comments-scroll">
    {% if comments %}
      {% for c in comments %}
        <article class="comment-card">
          <header class="comment-card__meta">
            <span class="comment-card__author">
              {{ c.user.username|default:c.author_name|default:"Anon" }}
            </span>
            <time class="comment-card__date" datetime="{{ c.created_at|date:'c' }}">
              {{ c.created_at|date:"Y-m-d H:i" }}
            </time>
          </header>
          <p class="comment-card__body">
            {{ c.content }}
          </p>
        </article>
      {% endfor %}
    {% else %}
      <p class="comments-empty">No comments yet. Be the first!</p>
    {% endif %}
  </div>
</div>
